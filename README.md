# ⚛️ generator-react-native

The aim of of this generator is to **provide structure** and a **set of patterns**
to eliminate the time you would spend bootstrapping your own. While this comes
with some opinion, there’s no overarching framework on top of React Native; it’s
purely a collection of commonly used modules and some sensible architecture to
get you or your team off the ground.

## How should the generator be used?

Create a new React Native project using their CLI tool.

```
react-native init MyApp && cd MyApp
```

Once this is complete, simply run the main generator command. This will rework
and add to the files that are generated by React Native and give you something
more akin to what you might find with `rails new`.

```
yo react-native:base
```

## Installation

This generator uses [Yeoman](http://yeoman.io/), install along with the
generator.

```
npm install -g yo generator-react-native
```

## Commands

### `yo react-native:base`

This is the main command you’ll use with the generator, you’ll typically run it
once over a new React Native application to get you setup and provide some
structure.

The outline of the application looks is described below.

```
App/
├── Actions/
│   ├── App.js
│   └── index.js
├── Assets/
│   └── AppIcon.png
├── Components/
│   ├── App/
│   │   └── index.js
│   ├── Button/
│   │   ├── index.js
│   │   └── styles.js
│   ├── Layout/
│   │   ├── index.js
│   │   └── styles.js
│   ├── Text/
│   │   ├── index.js
│   │   └── styles.js
│   └── Utilities/
│       └── Environment/
│           ├── index.js
│           └── styles.js
├── Config/
│   └── index.js
├── Helpers/
│   └── Log.js
├── Reducers/
│   ├── App.js
│   ├── index.js
│   └── Nav.js
├── Sagas/
│   ├── index.js
│   └── RequestExample.js
├── Scenes/
│   ├── Styleguide/
│   │   ├── Container.js
│   │   └── index.js
│   ├── index.js
│   ├── Launch.js
│   └── Main.js
├── Services/
│   └── API/
│       ├── index.js
│       └── logging.js
├── Store/
│   ├── Middleware/
│   │   ├── Buffer.js
│   │   ├── index.js
│   │   ├── Logger.js
│   │   └── Saga.js
│   └── index.js
├── Styles/
│   └── Variables/
│       └── index.js
├── Types/
│   └── index.js
├── App.js
└── Router.js
```

Base will generate you a new project start point. It includes the following,
* A sensible `README` providing consistent instructions between projects
* `nvm` setup
* Can optionally `init` Git for you
* Router (using `react-native-router-flux` or `react-navigation`)
* Redux setup
* Redux store that is persisted and restored automatically
* Redux logger
* Launch screen that waits for the store to be restored from the cache
* Prevents Redux actions from being dispatched before the cache is restored
* Environment configuration variables
* Sagas (to handle async tasks like HTTP requests)
* Initial setup for deep linking
* Handy `fetch` wrapper that will log what requests are being made, providing the base URLs from the environment variables
* Pattern to manage components and their styles
* Visual display of your app’s environment while it’s running, this get’s hidden in production
* Automatic versioning of iOS and Android versions based on the `package.json` version.
* Pattern to manage Flow types across the app
* `log` helper to output coloured logs to the debug console
* Logs that get excluded when in production
* Generic app icon that can be processed through a separate generator to handle all your iOS and Android icons
* Simple Styleguide setup
* Example Button component
* Style variables
* Platform specific style variables
* Layout component example to DRY up scene layouts

Please note, follow the "Manual Notes" below after running this command. Hopefully in the future these can be automated.

### `component`

An easy way to scaffold stateless and stateful components.

```
yo react-native:component MyComponent
yo react-native:component MyComponent --stateful
```

### `reducer`

An easy way to scaffold a reducer. It creates the reducer itself and a way to keep organise your associated actions.

```
yo react-native:reducer MyReducer
```

### `scene`

An easy way to scaffold a scene. Creates a new scene that is connected to the
Redux store following the container pattern.

```
yo react-native:scene MyScene
```

## Manual Notes

### After `react-native:base`

The default `react-native init` now comes with tvOS targets... These add un-needed cruft to the project. Best plan is to open the XCode project, remove the tvOS targets and then delete the files in the project themselves.

Follow the Android version of these instructions to add automatic build numbers.

[https://medium.com/@andr3wjack/versioning-react-native-apps-407469707661#.quhgn05gf](https://medium.com/@andr3wjack/versioning-react-native-apps-407469707661#.quhgn05gf)

## Resources

* [Introduction to Sagas](https://redux-saga.github.io/redux-saga/docs/introduction/BeginnerTutorial.html)
* [A great simple intro to Redux Sagas](https://www.youtube.com/watch?v=msx0Qiu8NxQ&list=PLw7fHewFA6OTyUnLiZ1HQvYdzjp9ARMQw)
* [Intro to Redux](http://redux.js.org/docs/basics/Reducers.html)
* [Flow](https://flowtype.org/)
